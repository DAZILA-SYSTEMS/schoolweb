"use strict";(self.webpackChunkschooltechsystem=self.webpackChunkschooltechsystem||[]).push([[428],{7428:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s=n(4165),r=n(5861),a=n(9439),c=n(2791),i=n(3027),o=n(3360),l=n(1620),d=n(2062),u=n.n(d),f=n(496),h=n(248),x=n(6950),m=n(184),j=function(e){var t=e.subs,n=e.updatePay,s=e.softwareId,r=e.amount,a=e.currency,c=e.rate;return(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-center text-capitalize h6 text-decoration-underline",children:(0,m.jsx)("strong",{children:"Get Activation Code at :"})}),(0,m.jsx)("p",{className:"text-center",children:t.length>0?"Activation Code if not already used ".concat(t[t.length-1].code):(0,m.jsxs)("p",{className:"text-center h6 text-decoration-underline",children:[(0,m.jsx)("strong",{children:"NB: "}),"After Payment Click Go Back And Then Next For The Activation Code"]})})," ",(0,m.jsx)("div",{className:" row d-flex justify-content-center",children:(0,m.jsx)("div",{className:"col-md-6 ",children:(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:(0,m.jsxs)("div",{className:"d-flex justify-content-between align-content-center",children:[(0,m.jsxs)("span",{children:[" ",(0,m.jsxs)("strong",{children:["One Time Pay ",(0,m.jsx)("br",{}),"Forever Access :"]})," ",(0,m.jsx)("br",{}),parseInt(5*(r>71.9?r:500)*(0===c?1:c))+(0===c?c:1)," ",a," Only"," "]}),"KES"===a&&0!==c?(0,m.jsx)(x.Z,{amount:parseInt(5*(r>71.9?r:500)*(0===c?1:c))+(0===c?c:1),type:"lifetime",softwareId:s,from:"software"}):null]})})," ",(0,m.jsx)("li",{children:(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("span",{children:[" ",(0,m.jsx)("strong",{children:"Annual :"}),(0,m.jsx)("br",{})," ",parseInt((r>71.9?r:72)*(0===c?1:c))+(0===c?c:1)," ",a," Only"," "]}),(0,m.jsx)("br",{}),"KES"===a&&0!==c?(0,m.jsx)(x.Z,{amount:parseInt((r>71.9?r:72)*(0===c?1:c))+(0===c?c:1),type:"annual",softwareId:s,from:"software"}):null]})})," ",(0,m.jsxs)("li",{className:"mt-1",children:[" ",(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("span",{children:[" ",(0,m.jsx)("strong",{children:"BiAnnual :"})," ",(0,m.jsx)("br",{}),parseInt((r>71.9?r:72)/2*(0===c?1:c))+(0===c?c:1)," ",a," Only"," "]}),"KES"===a&&0!==c?(0,m.jsx)(x.Z,{amount:parseInt((r>71.9?r:72)/2*(0===c?1:c))+(0===c?c:1),type:"biannual",softwareId:s,from:"software"}):null]})]})," ",(0,m.jsx)("li",{className:"mt-1",children:(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("span",{children:[" ",(0,m.jsx)("strong",{children:"Quarterly :"})," ",(0,m.jsx)("br",{}),parseInt((r>71.9?r:72)/4*(0===c?1:c))+(0===c?c:1)," ",a," Only"]}),"KES"===a&&0!==c?(0,m.jsx)(x.Z,{amount:parseInt((r>71.9?r:72)/4*(0===c?1:c))+(0===c?c:1),type:"quaterly",softwareId:s,from:"software"}):null]})})," ",(0,m.jsx)("li",{className:"mt-1",children:(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsxs)("span",{children:[" ",(0,m.jsx)("strong",{children:"Monthly :"})," ",(0,m.jsx)("br",{}),parseInt((r>71.9?r:72)/12*(0===c?1:c))+(0===c?c:1)," ",a," Only"]}),"KES"===a&&0!==c?(0,m.jsx)(x.Z,{amount:parseInt((r>71.9?r:72)/12*(0===c?1:c))+(0===c?c:1),type:"monthly",softwareId:s,from:"software"}):null]})})]})})}),"KES"!==a?(0,m.jsx)("div",{className:"row d-flex justify-content-center",children:(0,m.jsx)("div",{className:"col-md-12 justify-content-center",children:(t.length,(0,m.jsx)(f.Z,{softwareId:s,amount:r,from:"software"}))})}):null,(0,m.jsx)("div",{className:" row d-flex justify-content-center",children:(0,m.jsx)("div",{className:"col-md-6 d-flex justify-content-around",children:(0,m.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return n(!1)},children:[(0,m.jsx)(h.Z,{})," Go Back"]})})})]})},p=n(8920),y=n(3119),v=n(6029),w=function(){(0,c.useEffect)((function(){te()}),[]);var e=(0,c.useState)(!1),t=(0,a.Z)(e,2),n=t[0],d=t[1],f=(0,c.useState)(""),h=(0,a.Z)(f,2),x=h[0],w=h[1],N=(0,c.useState)(""),b=(0,a.Z)(N,2),Z=b[0],g=b[1],S=(0,c.useState)(!1),I=(0,a.Z)(S,2),C=I[0],k=I[1],O=(0,c.useState)(!1),T=(0,a.Z)(O,2),A=T[0],E=T[1],F=(0,c.useState)([]),P=(0,a.Z)(F,2),z=P[0],K=P[1],B=(0,c.useState)({cost:72}),q=(0,a.Z)(B,2),D=q[0],G=q[1],J=(0,c.useState)(0),L=(0,a.Z)(J,2),M=L[0],Q=L[1],U=(0,c.useState)("USD"),X=(0,a.Z)(U,2),H=X[0],R=X[1],V=(0,c.useState)(!1),W=(0,a.Z)(V,2),Y=W[0],$=W[1],_=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x===Z){e.next=4;break}return E(!0),e.abrupt("return");case 4:return d(!0),e.next=7,ee();case 7:return e.next=9,ne();case 9:k(!0),d(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l.l,"/sub/fetch"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({softwareId:"".concat(parseInt(x)).split("").reverse().join("")})}).then((function(e){return e.json()})).then((function(e){200===e.status?K(e.subs):u()({title:"Failed to connect",icon:"warning",timer:3e3})})).catch((function(){u()({title:"Failed to connect",icon:"warning",timer:3e3})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,fetch("".concat(l.l,"/sub/exchange"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){if($(!1),200===e.status){if(Intl){var t=Intl.DateTimeFormat().resolvedOptions().timeZone.split("/"),n=t[t.length-1],s=y.X[n],r=v.T.find((function(e){return e.countryName.toLowerCase()===s.toLowerCase()}));R(r.currencyCode||H),Q(e.data[(r||{}).currencyCode]||M)}}else u()({title:"Failed to connect",icon:"warning",timer:3e3})})).catch((function(){$(!1),u()({title:"Failed to connect",icon:"warning",timer:3e3})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l.l,"/agent/inst"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({softwareId:x.split("").reverse().join("")})}).then((function(e){return e.json()})).then((function(e){e.agent&&G(e.agent)})).catch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsx)(p.Z,{}),(0,m.jsx)("div",{className:"row d-flex justify-content-center",style:{marginTop:"40px"},children:(0,m.jsx)("div",{className:"col-md-8",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h6",{className:"text-center",children:"Activate School Techsystem Software"})}),(0,m.jsx)("div",{className:"card-body",children:Y?(0,m.jsx)("div",{className:"jumbotron",children:(0,m.jsx)("p",{className:"text-center",children:(0,m.jsx)("span",{className:"spinner-border h5 text-primary"})})}):C?(0,m.jsx)(j,{subs:z,updatePay:k,amount:D.cost,softwareId:x,currency:H,rate:M}):(0,m.jsxs)(i.Z,{onSubmit:_,children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"mb-2 text-capitalize",children:"Software Id:"}),(0,m.jsx)("input",{className:"rounded form-control",placeholder:"enter software id",value:x,onChange:function(e){return w(e.target.value)},required:!0}),(0,m.jsx)("hr",{})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsxs)("label",{className:"mb-2 text-capitalize",children:["Confirm Software Id:",A?(0,m.jsx)("small",{className:"text-danger",children:(0,m.jsx)("em",{children:"Not Matching"})}):null]}),(0,m.jsx)("input",{className:"rounded form-control",placeholder:"confirm software id",value:Z,onChange:function(e){return g(e.target.value)},required:!0})]}),(0,m.jsx)("hr",{}),(0,m.jsx)("div",{className:"d-flex justify-content-around mb-2",children:n?(0,m.jsx)("span",{className:"spinner-border text-primary"}):(0,m.jsx)(o.Z,{variant:"primary",type:"submit",children:"Next"})})]})})]})})})]})}}}]);
//# sourceMappingURL=428.bc4f4fe8.chunk.js.map